<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ .Site.Title }}</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    font-family: "PingFang SC","Microsoft YaHei",sans-serif;
    overflow-x: hidden;
    background: #fdfefe;
}

/* ===== 顶部封面 ===== */
.hero {
    height: 100vh;
    background-image: url("/images/img1.jpg");
    background-size: cover;
    background-position: center;
    filter: brightness(0.88);
    position: relative;
    cursor: pointer;
    transition: background-image .6s ease;
}

.hero-text {
    position: absolute;
    top: 10%;
    left: 6%;
    color: #fff;
    text-shadow: 0 0 14px rgba(0,0,0,.85);
}

.hero-text h1 {
    font-size: 34px;
    font-weight: 300;
    margin-bottom: 10px;
}

.hero-text p {
    font-size: 18px;
    opacity: .9;
}

/* ===== 过渡 ===== */
.hero-transition {
    height: 160px;
    background: linear-gradient(
        to bottom,
        rgba(0,0,0,.55),
        rgba(253,254,254,.95),
        #fdfefe
    );
}

/* ===== 分类区域 ===== */
.categories {
    max-width: 960px;
    margin: -90px auto 0;
    padding: 30px 20px 100px;
}

.categories h2 {
    text-align: center;
    font-size: 32px;
    font-weight: 300;
    letter-spacing: 6px;
    color: #1f2d3d;
    margin-bottom: 46px;
}

.row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
}

/* ===== 雪乃风卡片 ===== */
.col {
    position: relative;
    flex: 0 0 48%;
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 18px 22px;

    background: linear-gradient(
        to bottom,
        rgba(255,255,255,.96),
        rgba(248,250,252,.96)
    );

    border-radius: 16px;

    box-shadow:
        0 1px 0 rgba(255,255,255,.9),
        0 10px 30px rgba(180,200,220,.18),
        0 0 0 1px rgba(230,235,240,.85);

    text-decoration: none;
    color: #1f2d3d;
}

.chat-avatar {
    width: 48px;
    height: 48px;
    padding: 2px;
    background: #f4f7fb;
    border-radius: 8px;
    box-shadow: 0 3px 8px rgba(0,0,0,.15);
}

.chat-avatar img {
    width: 100%;
    height: 100%;
    border-radius: 6px;
    object-fit: cover;
}

.chat-name {
    font-size: 18px;
    font-weight: 300;
}

/* ===== 移动端 ===== */
@media (max-width: 700px) {
    .row {
        flex-direction: column;
        gap: 14px;
    }
    .col {
        width: 100%;
    }
}

/* ===== ❄️ 雪花（带冷影） ===== */
.snow {
    position: fixed;
    top: -10px;
    width: 2px;
    height: 2px;
    background: rgba(255,255,255,0.85);
    border-radius: 50%;

    /* 关键：雪影 */
    box-shadow:
        0 0 2px rgba(180,200,220,0.55),
        0 0 6px rgba(180,200,220,0.35);

    pointer-events: none;
    animation: snow-fall linear infinite;
    z-index: 1;
}

@keyframes snow-fall {
    to {
        transform: translateY(110vh);
        opacity: 0;
    }
}
</style>
</head>

<body>

<section class="hero" id="hero">
    <div class="hero-text">
        <h1>我永远喜欢雪之下雪乃</h1>
        <p>欢迎来到我的个人博客</p>
    </div>
</section>

<div class="hero-transition"></div>

<section class="categories">
<h2>博客分类</h2>

{{ $sections := slice }}
{{ range .Site.RegularPages }}
    {{ $folder := path.Base .File.Dir }}
    {{ if not (in $sections $folder) }}
        {{ $sections = $sections | append $folder }}
    {{ end }}
{{ end }}

{{ range $i, $name := $sections }}
    {{ if eq (mod $i 2) 0 }}<div class="row">{{ end }}

    <a class="col" href="/{{ $name | urlize }}/">
        <div class="chat-avatar">
            <img src="/images/category/{{ $name | lower }}.jpg">
        </div>
        <div class="chat-name">{{ $name }}</div>
    </a>

    {{ if or (eq (mod $i 2) 1) (eq (add $i 1) (len $sections)) }}</div>{{ end }}
{{ end }}
</section>

<script>
/* Hero 背景切换 */
const images = ["/images/img1.jpg","/images/img2.jpg"];
let current = 0;
document.getElementById("hero").onclick = () => {
    current = (current + 1) % images.length;
    hero.style.backgroundImage = `url('${images[current]}')`;
};

/* ❄️ 原雪生成（未改变，仅增强视觉） */
for (let i = 0; i < 35; i++) {
    const snow = document.createElement("div");
    snow.className = "snow";
    snow.style.left = Math.random() * 100 + "vw";
    snow.style.animationDuration = 8 + Math.random() * 8 + "s";
    snow.style.opacity = Math.random();
    snow.style.transform = `scale(${Math.random()})`;
    document.body.appendChild(snow);
}
</script>

</body>
</html>
